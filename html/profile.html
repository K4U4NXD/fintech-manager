<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile - FINTECH MANAGER</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="icon" type="image/x-icon" href="../assets/favicon.ico">
</head>
<body>
    <!-- Header Navigation -->
    <header class="header">
        <nav class="navbar">
            <div class="container">
                <a href="../index.html" class="logo">FINTECH MANAGER</a>
                
                <ul class="nav-menu">
                    <li><a href="dashboard.html" class="nav-link">Dashboard</a></li>
                    <li><a href="transactions.html" class="nav-link">Transactions</a></li>
                    <li><a href="budgets.html" class="nav-link">Budgets</a></li>
                    <li><a href="goals.html" class="nav-link">Goals</a></li>
                    <li><a href="reports.html" class="nav-link">Reports</a></li>
                </ul>
                
                <div class="nav-user">
                    <button class="notification-bell">
                        ðŸ””
                        <span class="notification-count">0</span>
                    </button>
                    <a href="profile.html" class="nav-link active">Profile</a>
                    <button onclick="logout()" class="btn btn-outline">Logout</button>
                </div>
                
                <button class="menu-toggle">â˜°</button>
            </div>
        </nav>
    </header>

    <!-- Mobile Sidebar -->
    <aside class="sidebar">
        <ul class="sidebar-menu">
            <li><a href="dashboard.html">Dashboard</a></li>
            <li><a href="transactions.html">Transactions</a></li>
            <li><a href="budgets.html">Budgets</a></li>
            <li><a href="goals.html">Goals</a></li>
            <li><a href="reports.html">Reports</a></li>
            <li><a href="profile.html">Profile</a></li>
        </ul>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Alert Container -->
            <div id="alertContainer"></div>
            
            <!-- Page Header -->
            <div style="margin-bottom: 2rem;">
                <h1>Profile Settings</h1>
                <p style="color: var(--text-gray); margin: 0;">Manage your account information and preferences</p>
            </div>

            <div class="row">
                <!-- Profile Information -->
                <div class="col-8">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Personal Information</h3>
                        </div>
                        <div class="card-body">
                            <form id="profileForm">
                                <div class="form-group">
                                    <label class="form-label">Full Name</label>
                                    <input type="text" name="name" class="form-control" required>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">Email Address</label>
                                    <input type="email" name="email" class="form-control" required readonly>
                                    <small style="color: var(--text-gray);">Email cannot be changed</small>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">Member Since</label>
                                    <input type="text" id="memberSince" class="form-control" readonly>
                                </div>
                                
                                <button type="submit" class="btn btn-primary">Update Profile</button>
                            </form>
                        </div>
                    </div>

                    <!-- Change Password -->
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Change Password</h3>
                        </div>
                        <div class="card-body">
                            <form id="passwordForm">
                                <div class="form-group">
                                    <label class="form-label">Current Password</label>
                                    <input type="password" name="current_password" class="form-control" required>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">New Password</label>
                                    <input type="password" name="new_password" class="form-control" required minlength="6">
                                    <small style="color: var(--text-gray);">Minimum 6 characters</small>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">Confirm New Password</label>
                                    <input type="password" name="confirm_password" class="form-control" required>
                                </div>
                                
                                <button type="submit" class="btn btn-warning">Change Password</button>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Account Statistics -->
                <div class="col-4">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Account Statistics</h3>
                        </div>
                        <div class="card-body">
                            <div style="margin-bottom: 1.5rem;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                    <span style="color: var(--text-gray);">Total Transactions:</span>
                                    <span id="totalTransactions" style="font-weight: 600;">0</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                    <span style="color: var(--text-gray);">Active Budgets:</span>
                                    <span id="activeBudgets" style="font-weight: 600;">0</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                    <span style="color: var(--text-gray);">Savings Goals:</span>
                                    <span id="savingsGoals" style="font-weight: 600;">0</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                    <span style="color: var(--text-gray);">Current Balance:</span>
                                    <span id="currentBalance" style="font-weight: 600;">$0.00</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Data Management -->
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Data Management</h3>
                        </div>
                        <div class="card-body">
                            <div style="margin-bottom: 1rem;">
                                <h5>Export All Data</h5>
                                <p style="color: var(--text-gray); font-size: 0.9rem;">Download all your financial data</p>
                                <div style="display: flex; gap: 0.5rem; margin-bottom: 1rem;">
                                    <button onclick="exportAllData('csv')" class="btn btn-outline btn-sm">CSV</button>
                                    <button onclick="exportAllData('xlsx')" class="btn btn-success btn-sm">Excel</button>
                                </div>
                            </div>
                            
                            <hr>
                            
                            <div>
                                <h5 style="color: var(--danger-red);">Danger Zone</h5>
                                <p style="color: var(--text-gray); font-size: 0.9rem;">Permanently delete your account and all data</p>
                                <button onclick="showModal('deleteAccountModal')" class="btn btn-danger btn-sm">
                                    Delete Account
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Delete Account Modal -->
    <div id="deleteAccountModal" class="modal">
        <div class="modal-content" style="max-width: 500px;">
            <div class="modal-header">
                <h3 class="modal-title">Delete Account</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="alert alert-danger">
                    <strong>Warning!</strong> This action cannot be undone. All your data will be permanently deleted.
                </div>
                
                <p>To confirm account deletion, please type <strong>DELETE</strong> in the box below:</p>
                
                <form id="deleteAccountForm">
                    <div class="form-group">
                        <input type="text" id="deleteConfirmation" class="form-control" placeholder="Type DELETE to confirm">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Enter your password to confirm:</label>
                        <input type="password" name="password" class="form-control" required>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline" onclick="closeModal()">Cancel</button>
                <button type="button" id="confirmDeleteAccount" class="btn btn-danger" disabled>Delete Account</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="../js/main.js"></script>
    <script src="../js/profile.js"></script>
</body>
</html>
